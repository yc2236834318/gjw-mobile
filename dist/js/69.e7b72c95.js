"use strict";(self["webpackChunk_06_gjw_mobile"]=self["webpackChunk_06_gjw_mobile"]||[]).push([[69],{1069:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});r(7658);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"","show-action":"",placeholder:"请输入搜索关键字"},on:{click:function(e){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[e("van-icon",{staticClass:"tool",attrs:{name:"apps-o"},on:{click:function(e){return t.$router.push("/category")}}})]},proxy:!0}])}),e("div",{staticClass:"sort-btns"},[e("div",{class:{active:1===t.sortIndex},on:{click:function(e){return t.getProList("all",0)}}},[t._v("默认")]),e("div",{class:{active:2===t.sortIndex},on:{click:function(e){return t.getProList("sales",0)}}},[t._v("销量")]),e("div",{class:{active:3===t.sortIndex},on:{click:function(e){return t.getProList("price",1)}}},[t._v("价格")])]),e("div",{staticClass:"goods-list"},[t._l(t.proList,(function(t){return e("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),t.proList.length<=0?e("div",{staticClass:"empty"},[t._v("暂无商品")]):t._e()],2)],1)},o=[],a=r(767),n=r(1787),i={name:"SearchList",data(){return{page:1,proList:[],sortIndex:1,queryObj:{}}},components:{GoodsItem:a.Z},created(){this.queryObj={categoryId:this.$route.query.categoryId,goodsName:this.querySearch,page:this.page,sortType:"all",sortPrice:0},this.getProList("all",0)},methods:{async getProList(t,e){this.queryObj.sortType=t,this.queryObj.sortPrice=e;const r=await(0,n.YK)(this.queryObj);this.proList=r.data.list.data,this.sortIndex="all"===t?1:"sales"===t?2:3}},computed:{querySearch(){return this.$route.query.search}}},c=i,u=r(1001),l=(0,u.Z)(c,s,o,!1,null,"1282138c",null),d=l.exports},1787:function(t,e,r){r.d(e,{Ai:function(){return n},OB:function(){return a},YK:function(){return o}});var s=r(4471);const o=t=>{const{categoryId:e,goodsName:r,page:o,sortType:a,sortPrice:n}=t;return s.Z.get("/goods/list",{params:{categoryId:e,goodsName:r,page:o,sortType:a,sortPrice:n}})},a=t=>s.Z.get("/goods/detail",{params:{goodsId:t}}),n=(t,e)=>s.Z.get("/comment/listRows",{params:{goodsId:t,limit:e}})}}]);
//# sourceMappingURL=69.e7b72c95.js.map